(this["webpackJsonp2.6-2.10"]=this["webpackJsonp2.6-2.10"]||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},19:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),u=t.n(a),o=t(13),r=t.n(o),c=(t(19),t(2)),i=function(e){return u.a.createElement("form",null,"Filter shown with name:",u.a.createElement("br",null),u.a.createElement("input",{value:e.value,onChange:e.onChange}))},l=function(e){return u.a.createElement("form",{onSubmit:e.onSubmit},u.a.createElement("div",null,"name: ",u.a.createElement("input",{value:e.valueNewName,onChange:e.onChangeNote})),u.a.createElement("div",null,"tel: ",u.a.createElement("input",{value:e.valueNewNro,onChange:e.onChangeNro})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"add")))},m=function(e){var n=e.message,t=e.type;return null===n?null:u.a.createElement("div",{className:t},n)},f=t(3),s=t.n(f),d="/api/persons",h=function(){return s.a.get(d).then((function(e){return e.data}))},v=function(e){return s.a.post(d,e).then((function(e){return e.data}))},b=function(e,n){return s.a.put("".concat(d,"/").concat(e),n).then((function(e){return e.data}))},p=function(e){return s.a.delete("".concat(d,"/").concat(e)).then((function(e){return e.data}))},E=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],o=n[1],r=Object(a.useState)(""),f=Object(c.a)(r,2),s=f[0],d=f[1],E=Object(a.useState)(""),w=Object(c.a)(E,2),g=w[0],O=w[1],j=Object(a.useState)(""),N=Object(c.a)(j,2),y=N[0],S=N[1],C=Object(a.useState)([]),k=Object(c.a)(C,2),T=k[0],x=k[1],A=Object(a.useState)(null),B=Object(c.a)(A,2),D=B[0],I=B[1],J=Object(a.useState)(null),L=Object(c.a)(J,2),M=L[0],W=L[1];Object(a.useEffect)((function(){h().then((function(e){o(e)}))}),[]);var F=function(e){e.preventDefault();var n=t.find((function(e){return e.id===T})).name;window.confirm("Kill "+n+"?")&&p(T).then((function(e){o(t.map((function(t){return t.id!==n?t:e})))})).then((function(){I(n+" is removed from phoneboo succesfully!"),setTimeout((function(){I(null)}),4e3)})).then((function(){o(t.filter((function(e){return e.id!==T})))})).catch((function(e){W(n+" is already removed from phonebook"),setTimeout((function(){W(null)}),4e3)}))},K=function(e){return u.a.createElement("div",{key:e.id},u.a.createElement("form",{onSubmit:F},u.a.createElement("strong",null,e.name),", tel: ",e.tel,u.a.createElement("input",{type:"hidden",name:"id",value:e.id}),u.a.createElement("button",{onMouseOver:function(){return x(e.id)},type:"submit"},"Delete")))},P=function(e){var n=e.person;return u.a.createElement("div",null,n.map((function(e){return u.a.createElement(K,{key:e.id,name:e.name,tel:e.number,id:e.id})})))},$=y?t.filter((function(e){return e.name.toLowerCase().includes(y.toLowerCase())})):t;return u.a.createElement("div",null,u.a.createElement("h2",null,"Phonebook"),u.a.createElement(m,{message:D,type:"greenAlert"}),u.a.createElement(m,{message:M,type:"redAlert"}),u.a.createElement(i,{value:y,onChange:function(e){S(e.target.value)}}),u.a.createElement("h2",null,"Add a new name"),u.a.createElement(l,{onSubmit:function(e){if(e.preventDefault(),t.map((function(e){return e.name})).includes(s)){if(window.confirm("Name ".concat(s," already exists, do you want to update the number?"))){var n={name:s,number:g},a=t.find((function(e){return e.name===s})).id;b(a,n).then((function(){var e=t.findIndex((function(e){return e.id===a})),n=t;n[e].number=g,o(n)})).then(I(s+"\xb4s number is now updated!")).then(setTimeout((function(){I(null)}),4e3))}}else v({name:s,number:g}).then((function(e){o(t.concat(e))})).then(I(s+" is now added to phone Bookkel")).then(setTimeout((function(){I(null)}),4e3));d(""),O("")},valueNewName:s,onChangeNote:function(e){d(e.target.value)},valueNewNro:g,onChangeNro:function(e){O(e.target.value)}}),u.a.createElement("h2",null,"Numbers"),u.a.createElement(P,{person:$}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(u.a.createElement(u.a.StrictMode,null,u.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.ac380c03.chunk.js.map